---
import ContactForm from './components/ContactForm.astro';
import AddressIcon from '../icons/AddressIcon.astro';
import PhoneIcon from '../icons/PhoneIcon.astro';
import EmailIcon from '../icons/EmailIcon.astro';
---

<section id='contacto' class='mx-auto max-w-6xl py-16 px-4'>
  <h3 id='contact-title' class='text-4xl text-primary-title'>Contacto</h3>




  <div class="flex flex-col md:flex-row gap-x-6 gap-y-6 md:gap-6-0 my-12 mb-24">
    <div id="info-card-1" class='flex flex-col gap-12 py-8 px-6 w-full
    rounded-3xl bg-primary-bg-component opacity-0 scale-75'>
      <AddressIcon />
        <div class='flex flex-col gap-y-4'>
          <p class="text-primary-title">Dirección Lorem Lorem</p>
        </div>
    </div>
    <div id="info-card-2" class='flex flex-col gap-12 py-8 px-6 w-full
    rounded-3xl bg-primary-bg-component opacity-0 scale-75'>
      <PhoneIcon />
        <div class='flex flex-col gap-y-4'>
          <p class="text-primary-title">Dirección Lorem Lorem</p>
        </div>
    </div>
    <div id="info-card-3" class='flex flex-col gap-12 py-8 px-6 w-full
    rounded-3xl bg-primary-bg-component opacity-0 scale-75'>
      <EmailIcon />
        <div class='flex flex-col gap-y-4'>
          <p class="text-primary-title">Dirección Lorem Lorem</p>
        </div>
    </div>
  </div>


  <div class='flex flex-col md:flex-row gap-x-12 mt-6 gap-y-10'>
    <div class="flex flex-col w-full md:w-1/2">
      <h4 class="text-primary-title text-4xl">Ampliemos tu espacio juntos</h4>
      <p class="text-primary-text text-lg mt-4 w-full md:w-[85%] leading-6">Escríbenos y te ayudaremos a encontrar la solución que mejor se adapte a tus necesidades.</p>
    </div>
    <div class="md:w-1/2">    
      <ContactForm />
    </div>
  </div>
</section>

<script>
  import { gsap } from 'gsap';
  import { ScrollTrigger } from 'gsap/ScrollTrigger';

  gsap.registerPlugin(ScrollTrigger);

  const timeline = gsap.timeline({
    scrollTrigger: {
      trigger: '#info-card-1',
      start: 'top 80%',
      end: 'bottom 20%',
      toggleActions: 'play none none none',
    },
  });
  const timeline2 = gsap.timeline({
    scrollTrigger: {
      trigger: '#info-card-1',
      start: 'top 80%',
      end: 'bottom 20%',
      toggleActions: 'play none none none',
    },
  });
  const timeline3 = gsap.timeline({
    scrollTrigger: {
      trigger: '#info-card-1',
      start: 'top 80%',
      end: 'bottom 20%',
      toggleActions: 'play none none none',
    },
  });

  timeline.to('#info-card-1', {
    rotate: 0,
    opacity: 1,
    scale: 1,
    duration: 0.25,
    ease: 'back',
  });

  timeline2.to('#info-card-2', {
    rotate: 0,
    opacity: 1,
    scale: 1,
    duration: 0.25,
    delay: 0.1,
    ease: 'back',
  });

  timeline3.to('#info-card-3', {
    rotate: 0,
    opacity: 1,
    scale: 1,
    duration: 0.25,
    delay: 0.2,
    ease: 'back',
  });
</script>